{% extends "mpa/base.html" %}
{% load humanize %}

{% block title %}{{ issue }} • {{ project.name }}{% endblock title %}

{% block breadcrumb %}
<li class="breadcrumb-item">
    <a href="{% url 'project_detail' project.id %}">
        {{ project.name | truncatechars:32 }}
    </a>
</li>
<li class="breadcrumb-item">
    <a href="{% url 'issue_list' project.id %}">
        Issues
    </a>
</li>
<li class="breadcrumb-item active" aria-current="page">
    {{ issue }}
</li>
{% endblock breadcrumb%}

{% block header %}
<h1 class="display-6">
    {% if issue.name %}
        {{ issue.name }}
    {% endif %}
    <small class="text-muted">{{ issue }}</small>
</h1>
{% endblock header %}

{% block header-buttons %}
    <button href="#" class="btn btn-outline-secondary me-1">
        <i class="bi bi-pencil"></i> Edit
    </button>
    <button href="#" class="btn btn-outline-secondary me-1">
        <i class="bi bi-x-lg"></i> Mute
    </button>
    <button href="#" class="btn btn-success">
        <i class="bi bi-check-lg"></i> Resolve
    </button>
{% endblock header-buttons %}

{% block subheader %}
{% if issue.description %} <div class="mb-1">{{ issue.description }}</div> {% endif %}
<p class="text-muted">
<span class="badge rounded-pill bage-bg-{{ issue.get_status_display|lower }}">
        {{ issue.get_status_display }}
</span>
    {% with count=issue.example_count %}{% if count %}{{ count | intcomma }}{% else %}No{% endif %} example{{ count | pluralize }}{% endwith %}
    • Created {{ issue.created_at | naturaltime }}
    • Updated {{ issue.updated_at | naturaltime }}
</p>
{% endblock subheader %}

{% block main %}
<h5>Examples</h5>
{% include 'mpa/example/list_main.html' %}

{% endblock main %}