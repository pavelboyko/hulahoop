{% extends "mpa/base.html" %}
{% load humanize %}
{% block title %}Projects{% endblock title %}

{% block tabs %}
<ul class="nav">
    <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="#">Projects</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="#">Settings</a>
    </li>
</ul>
{% endblock tabs %}

{% block main %}
<div class="d-flex mb-3">
    <div class="flex-grow-1">
    <form class="me-3" role="search">
        <input class="form-control" type="search" placeholder="Search projects..." aria-label="Search">
    </form>
    </div>
    <a href="{% url 'project_create' %}" type="button" class="btn btn-primary">
        <i class="bi bi-plus-lg"></i> New project
    </a>
</div>

{% if project_list %}
<ul class="list-group">
    {% for project in project_list %}
    <li class="list-group-item d-flex flex-column list-group-item-action">
        <a href="{% url 'project_detail' project.id %}" class="fs-5 text-decoration-none stretched-link">{{ project.name }}</a>
        <small class="text-muted">
              {% with count=0 %}{% if count %}{{ count | intcomma }}{% else %}No{% endif %} issue{{ count | pluralize }}{% endwith %}
            • {% with count=project.example_count %}{% if count %}{{ count | intcomma }}{% else %}No{% endif %} example{{ count | pluralize }}{% endwith %}
            • Updated {{ project.updated_at | naturaltime }} </small>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>
    No results found.
    <a href="{% url 'project_create' %}">Create new project.</a>
</p>
{% endif %}

{% endblock main %}
