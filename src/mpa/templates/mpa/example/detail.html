{% extends "mpa/base.html" %}
{% block title %}Example • {{ project.name }}{% endblock title %}

{% block breadcrumb %}
<li class="breadcrumb-item">
    <a href="{% url 'project_detail' project.id %}">
        {{ project.name | truncatechars:40 }}
    </a>
</li>
<li class="breadcrumb-item">
    <a href="{% url 'example_list' project.id %}">
        Examples
    </a>
</li>
<li class="breadcrumb-item active" aria-current="page">{{ example }}</li>
{% endblock breadcrumb%}

{% block subheader %}
<p class="text-muted">
    <span class="badge rounded-pill bage-bg-{{ example.get_status_display|lower }}">{{ example.get_status_display }}</span>
    &nbsp;Created: {{ example.created_at }}
    • Updated: {{ example.updated_at }}
</p>
<p class="text-muted" style="margin-top: -0.5rem">
    {% if example.issue %}
    <span class="badge rounded-pill bage-bg-{{ example.issue.get_status_display|lower }}">
        {{ example.issue.get_status_display }}
    </span>
    <a href="{% url 'issue_detail' project.id example.issue.id %}">
    Issue #{{example.issue.id}}: {{ example.issue.name }}
    </a>
    {% endif %}
</p>
{% endblock subheader %}

{% block main %}
<div class="container">
    <div class="row">
        <div class="col-xl-6 ps-0">
            <a href="{{ example.media_url }}" target="_blank">
            <img src="{{ example.media_url }}" alt="Broken image :(" class="img-fluid border"/>
            </a>
        </div>
        <div class="col-xl">
            {% if predictions %}
            <h5>Predictions</h5> 
            <pre><code class="language-json">{{ predictions }}</code></pre>
            {% endif %}

            {% if annotations %}
            <h5>Annotations</h5> 
            <pre><code class="language-json">{{ annotations }}</code></pre>
            {% endif %}

            {% if properties %}
            <h5>Properties</h5> 
            <pre><code class="language-json">{{ properties }}</code></pre>
            {% endif %}
        </div>
    </div>
</div>

<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
{% endblock main %}